function cartCalc(){var a=+$(".j-sumProducts").text(),b=+$(".j-sumDeli").text(),c=+$(".j-sumSale").text(),d=a+b+c;$(".j-sumTotal").text(d)}function payChange(){$(".j-pay:checked").length&&stepDone(1)}function deliChange(){$(".j-deliDay").val()&&$(".j-deliTime").val()&&stepDone(0)}function contactChange(a){a.val()?a.addClass("filled"):a.removeClass("filled"),$(".j-contact[required]:not(.filled)").length?stepUnDone(2):stepDone(2)}function stepDone(a){$(".cartAside-step").eq(a).addClass("cartAside-step--done"),stepsAll()}function stepUnDone(a){$(".cartAside-step").eq(a).removeClass("cartAside-step--done"),stepsAll()}function stepsAll(){var a=$(".j-orderBtn");$(".cartAside-step:not(.cartAside-step--done)").length?a.prop("disabled",!0):a.prop("disabled",!1)}function cartChangeProductCnt(){var a=$(".j-productCart"),b=0,c=0,c=a.length;a.each(function(){var a=+$(this).find(".j-product-price").text(),c=+$(this).find(".nmb-input").val();b+=a*c}),$(".j-sumProducts").text(b),$(".j-productsCnt").text(c),cartCalc()}var $contacts;$("document").ready(function(){stepsAll(),cartCalc(),$(".j-pay").change(function(){payChange()}),$(".j-deliDay,.j-deliTime").change(function(){deliChange()}),$contacts=$(".j-contact[required]"),$contacts.change(function(){contactChange($(this))}),$(".j-product-delete").click(function(){var a=$(this).closest(".j-productCart");a.attr("data-id");return a.remove(),0==$(".j-product-delete").length?window.location.reload():cartChangeProductCnt(),!1}),$(".datepickerCart").datepicker({minDate:0})});